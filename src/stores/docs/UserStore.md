### Документация к `UserStore`

`UserStore` - это хранилище состояний для управления сессиями пользователя в приложении Vue.js с использованием
библиотеки `Pinia`.

#### Экспортирует 2 свойства:

1. `session` - непосредственно состояние сессии пользователя;
   ##### Структура состояния
    - `userId`: ID пользователя; INT
    - `userName`: Имя пользователя; STRING
    - `loggedIn`: Статус входа в систему; BOOLEAN
    - `role`: Роль пользователя; STRING
    - `lastUpdate`: timestamp последнего обновления данных с сервера; TIMESTAMP
   ##### Особенности
    - Загружается и обновляется автоматически;
        - Учитывайте, что до загрузки свойства могут быть равны undefined или null;
        - Обращайтесь ко вложенным свойствам через `?.`, `val?.[index]?.attr`;
    - Если необходимо, можно запросить загрузку данных явно;

2. `sessionTools` - небольшой тулсет для работы с сессией;
   ##### Структура тулсета
    - `async checkSessionState()`: Асинхронный метод для проверки состояния текущей сессии.  
      Обновляет состояние сессии данными из ответа сервера.

    - `async tryToLogIn(login, password)`: Асинхронный метод для попытки входа в систему.      
      Принимает параметры `login` и `password`.  
      Возвращает ответ сервера в чистом виде; Обновляет состояние сессии при успехе.

    - `async tryToLogOut()`: Асинхронный метод для выхода из системы.  
      Возвращает ответ сервера в чистом виде; Обновляет состояние сессии при успехе.

    - `async reserveLogin(login)`: Асинхронный метод для резервирования логина.  
      Принимает параметр `login`.   
      Возвращает ответ сервера в чистом виде;

    - `async registerLogin(login, password)`: Асинхронный метод для регистрации нового логина.  
      Принимает параметры `login` и `password`;  
      Возвращает ответ сервера в чистом виде;

----

##### Использование

Для использования `UserStore` импортируйте его в ваш компонент Vue и вызывайте нужные методы для управления
сессией пользователя.

Пример:

```javascript
<script setup>
    import {useUserStore} from "@/stores/UserStore.js";

    const userStore = useUserStore();

    // Проверка состояния сессии
    await userStore.checkSessionState();

    // Вход в систему
    await userStore.tryToLogIn("user_login", "user_password");

    // Выход из системы
    await userStore.tryToLogOut();
    <script>
        <template>
            <pre>{{userStore?.session}}</pre>
        </template>
```

Обратите внимание, что все методы асинхронные и требуют использования `await` для корректной работы.  
Документацию по ответам и ошибкам, возвращаемым сервером, можно найти [здесь](../../backend/help.md).