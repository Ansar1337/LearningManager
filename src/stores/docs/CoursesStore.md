### Документация к `CoursesStore`

`useCoursesStore` - это хранилище состояний для управления сессиями пользователя в приложении Vue.js с использованием
библиотеки `Pinia`.

#### Экспортирует 2 свойства:

1. `availableCourses` - список курсов, доступных на сервисе;
   ##### Структура состояния
   ```json
    {
      "id": "INT // идентификатор курса",
      "title": "STRING // наименование курса",
      "description": "STRING // краткое описание курса",
      "icon": "STRING // имя файла-иконки курса",
      "details": {
        "dateStart": "DateSTRING // дата начала курса",
        "dateEnd": "DateSTRING // дата конца курса",
        "timeEstimation": "BIGINT // примерная длительность обучения в мс",
        "modules": "STRING[] // список **названий** модулей, входящих в курс",
        "longDescription": "STRING // полное описание курса"
      }
    }
   ```
   ##### Особенности
    - Загружается и обновляется автоматически;
        - Учитывайте, что до загрузки свойства могут быть равны undefined или null;
        - Обращайтесь ко вложенным свойствам через `?.`, `val?.[index]?.attr`;
    - Для оптимизации трафика поле `details` не будет загружено до первого обращения к нему;
    - При обращении к веткам объекта из кода в <script>, учитывайте его асинхронную природу;
        - Как пример, `availableCourses[n].details.modules[m]` будет работать только если ветка гарантированно
          прогружена!
        - `availableCourses[n].details.modules[m].then(action)` будет работать в любом случае;
        - внутри <template> `availableCourses[n].details.modules[m]` будет работать в "синхронной манере" всегда;

2. `userCourses` - список курсов, на которые подписан пользователь;
   ##### Структура состояния
    ```json
    {
      "id": "INT // идентификатор курса",
      "completeness": "INT // приблизительный статус завершенности в процентах",
      "modules": [
        {
          "name": "STRING // наименование модуля",
          "lessonsCompleted": "INT // количество завершенных уроков",
          "lessonsTotal": "INT // общее количество уроков",
          "deadline": "DateSTRING // время завершения модуля",
          "estimatedTime": "BIGINT // примерная длительность модуля в мс",
          "performance": "INT // текущая успеваемость студента от 0 до 100",
          "resources": {
            "articles": [
              {
                "id": "INT // Идентификатор группы тем или статьи",
                "name": "STRING // Название группы тем или статьи",
                "type": "STRING // Тип элемента: `group` для групп тем, `article` для статей",
                "completed": "WRITABLE BOOLEAN // Статус завершения: true или false",
                "content": "ArticleTreeNodes[] // Для групп тем содержит массив статей или подгрупп"
              }
            ],
            "homework": {
              "task": "STRING // HTML с текстом задания и подсказками",
              "submissions": [
                {
                  "date": "STRING // Дата и время отправки задания",
                  "fileName": "STRING // Имя файла с решением",
                  "hash": "STRING // Хеш файла для скачивания",
                  "status": "STRING // Статус проверки задания ('Accepted', 'Pending', 'Rejected')"
                }
              ],
              "status": "STRING // Статус выполнения задания ('Done', 'In progress')",
              "score": "INT // Оценка за задание (0-100)",
              "comments": [
                {
                  "sender": "INT // ID отправителя комментария, 0 для системных сообщений",
                  "dateTime": "STRING // Дата и время комментария",
                  "message": "STRING // Текст комментария",
                  "unread": "BOOLEAN // статус прочитанности сообщения"
                }
              ]
            },
            "tests": "IN PROGRESS"
          }
        }
      ]
    }
    ```
   ##### Особенности
    - Загружается и обновляется автоматически;
        - Учитывайте, что до загрузки свойства могут быть равны undefined или null;
        - Обращайтесь ко вложенным свойствам через `?.`, `val?.[index]?.attr`;
    - Для оптимизации трафика поле `modules` не будет загружено до первого обращения к нему;
    - При обращении к веткам объекта из кода в <script>, учитывайте его асинхронную природу;
        - Как пример, `userCourses[n].modules[m].name` будет работать только если ветка гарантированно прогружена!
        - `userCourses[n].modules[m].name.then(action)` будет работать в любом случае;
        - внутри <template> `userCourses[n].modules[m].name` будет работать в "синхронной манере" всегда;
    - Поле `performance` указано как целочисленное, чтобы, при вычислении средних баллов избежать ошибки
      float-исчислений;
    - Для вывода дробного балла достаточно будет разделить `performance` на 10. Тогда 76 баллов превратятся в 7.6 и тд;
    - Обратите внимание, что поле `modules`->`resources`->`articles`->`completed` в контексте имеет тип "WRITABLE
      BOOLEAN" - если поменять его значение, это будет отражено на сервере;
    - Учтите, что поле `modules`->`resources`->`articles`->`completed` в контексте группы вычисляется динамически на
      основе значений этого поля в подчиненных элементах;

----

##### Использование

Для использования `CoursesStore` импортируйте его в ваш компонент Vue и просто обращайтесь к хранимым состояниям.

Пример:

```javascript
<script setup>
    import {useCoursesStore} from "@/stores/CoursesStore.js";
    const courseStore = useCoursesStore();
    <script>
        <template>
            <pre>{{courseStore?.availableCourses}}</pre>
            <pre>{{courseStore?.userCourses}}</pre>
        </template>
```